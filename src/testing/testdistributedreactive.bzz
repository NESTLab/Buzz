x = reactive.create(4)
function init() {
  s = stigmergy.create(1)
  s.onconflict(function(k, l, r){
    log("fb ", id, ": conflict on vstig[", k, "]: r", l.robot, " / r", r.robot)
    if(l.robot > r.robot) { return l }
    else                  { return r }
  })
  s.onconflictlost(function(k, l){
    log("fb ", id, ": lost conflict on vstig[", k, "]")
  })
}

function step() {
  # Increase step count
  x = x + 1
  if(x < 10) {
    # Put step count
    s.put(id, x)
    # Use foreach
    s.foreach(function(key,value,robot) {
      log("F fb ", id, ": vstig[", key, "] = ", value, ", robot = ", robot)
    })
    
  }
}
